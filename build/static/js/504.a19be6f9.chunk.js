"use strict";(self.webpackChunkadminpanel=self.webpackChunkadminpanel||[]).push([[504],{9504:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var i=n(4942),r=n(1413),a=n(5861),o=n(885),s=n(4687),d=n.n(s),l=n(2791),c=n(890),u=n(68),m=n(3400),h=n(4554),p=n(1889),x=n(7391),f=n(3466),v=n(6151),Z=n(792),j=n(2739),g=n(627),y=n(4721),b=n(585),w=n(7031),_=n(6711),P=n(9434),C=(n(2881),n(6654)),N=(n(2764),n(7477)),S=n(3579),k=n(3366),O=n(7462),z=n(8182),I=n(2466),A=n(4419),D=n(1217),E=n(3457),M=n(7078),L=n(8519),F=n(5080),R=n(1184),B=n(5682),T=n(184),q=["component","direction","spacing","divider","children","className"],W=(0,F.Z)(),H=(0,E.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function $(e){return(0,M.Z)({props:e,name:"MuiStack",defaultTheme:W})}function V(e,t){var n=l.Children.toArray(e).filter(Boolean);return n.reduce((function(e,i,r){return e.push(i),r<n.length-1&&e.push(l.cloneElement(t,{key:"separator-".concat(r)})),e}),[])}var G=function(e){var t=e.ownerState,n=e.theme,r=(0,O.Z)({display:"flex",flexDirection:"column"},(0,R.k9)({theme:n},(0,R.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var a=(0,B.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),s=(0,R.P$)({values:t.direction,base:o}),d=(0,R.P$)({values:t.spacing,base:o});"object"===typeof s&&Object.keys(s).forEach((function(e,t,n){if(!s[e]){var i=t>0?s[n[t-1]]:"column";s[e]=i}}));r=(0,I.Z)(r,(0,R.k9)({theme:n},d,(function(e,n){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((r=n?s[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,B.NA)(a,e))};var r})))}return r=(0,R.dt)(n.breakpoints,r)};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?H:t,i=e.useThemeProps,r=void 0===i?$:i,a=e.componentName,o=void 0===a?"MuiStack":a,s=function(){return(0,A.Z)({root:["root"]},(function(e){return(0,D.Z)(o,e)}),{})},d=n(G),c=l.forwardRef((function(e,t){var n=r(e),i=(0,L.Z)(n),a=i.component,o=void 0===a?"div":a,l=i.direction,c=void 0===l?"column":l,u=i.spacing,m=void 0===u?0:u,h=i.divider,p=i.children,x=i.className,f=(0,k.Z)(i,q),v={direction:c,spacing:m},Z=s();return(0,T.jsx)(d,(0,O.Z)({as:o,ownerState:v,ref:t,className:(0,z.Z)(Z.root,x)},f,{children:h?V(p,h):p}))}));return c}(),U=K,J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,maxHeight:500,overflowY:"scroll",bgcolor:"background.paper",boxShadow:24,p:2},Q={personal:["CID","customer_name","customer_email","customer_mobile","city","state","shipping","billing","GST","has_GST","classification","customer_type"],order:["O","sales_person","status","sale_channel","order_time","note"],customizations:["SKU","cusPolish","design","polish_images","design_images","polish_note","design_note"],product:["quantity"],payment:["paid","total","pay_method_remaining","pay_method_advance","pay_method_advance"],fulfillment:["fulfilled","courier_company","inventory_location","AWB","pic_before_dispatch"]};function Y(e){var t=e.history,n=((0,P.I0)(),(0,l.useState)({data:[],isLoading:!1,page:1,limit:10,total:0,O:void 0,customer_name:void 0,customer_email:void 0,date:"",filter:!1})),s=(0,o.Z)(n,2),Z=s[0],j=s[1],g=(0,l.useState)({open:!1,_id:void 0}),y=(0,o.Z)(g,2),k=y[0],O=y[1];function z(){return(z=(0,a.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isLoading:!0})})),(0,C.co)({page:Z.page,limit:Z.limit,total:Z.total,O:Z.O,customer_name:Z.customer_name,customer_email:Z.customer_email}).then((function(e){j((function(t){return(0,r.Z)((0,r.Z)({},t),{},{data:e.data.data.map((function(e,t){return{id:t+1,O:e.O,order_time:e.order_time,status:e.status,CID:e.CID,customer_name:e.customer_name,customer_email:e.customer_email,customer_mobile:e.customer_mobile,city:e.city,state:e.state,shipping:e.shipping,quantity:JSON.stringify(e.quantity),discount:e.discount,paid:e.paid,total:e.total,note:e.note||"",action:e}})),isLoading:!1,total:e.data.total,filter:!1})}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useMemo)((function(){!function(){z.apply(this,arguments)}()}),[Z.page,Z.limit,Z.filter]);var I=(0,l.useState)({}),A=(0,o.Z)(I,2),D=(A[0],A[1],[{field:"id",headerName:"ID",width:50},{field:"status",editable:!0,headerName:"Status",width:150,renderCell:function(e){return(0,T.jsx)(c.Z,{variant:"button",children:e.formattedValue})}},{field:"O",headerName:"Order ID",width:100},{field:"CID",headerName:"Customer ID",width:100},{field:"customer_name",headerName:"Customer Name",width:150,align:"center"},{field:"customer_email",headerName:"Customer Email",width:250,align:"center"},{field:"city",headerName:"City",width:100},{field:"state",headerName:"State",width:100},{field:"shipping",headerName:"Shipping Address",width:200},{field:"order_time",headerName:"Order Time/Date",width:200,align:"center"},{field:"quantity",headerName:"Product $ Quantity",width:200},{field:"discount",headerName:"Discount",width:80,align:"center"},{field:"paid",headerName:"Paid Amount",width:80,align:"center"},{field:"total",headerName:"Total Amount",width:80,align:"center"},{field:"note",headerName:"Note",width:80,align:"center"},{field:"action",headerName:"Actions",width:200,renderCell:function(e){return(0,T.jsxs)("div",{className:"categoryImage",children:[(0,T.jsx)(u.Z,{title:"Preview Order",children:(0,T.jsx)(m.Z,{onClick:function(){t("/preview_order/".concat(e.formattedValue._id))},"aria-label":"delete",children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)(u.Z,{title:"Cancel Order",children:(0,T.jsx)(m.Z,{onClick:function(){},"aria-label":"delete",children:(0,T.jsx)(_.Z,{})})})]})}}]),E=function(e){return j((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,i.Z)({},e.target.name,e.target.value))}))};return(0,T.jsxs)(h.Z,{sx:{pl:4,pr:4},children:[(0,T.jsx)(c.Z,{component:"span",sx:{display:"block"},variant:"h5",children:"Order"}),(0,T.jsx)("br",{}),(0,T.jsx)(X,{preview:k,setPreview:O}),(0,T.jsxs)(p.ZP,{container:!0,p:2,sx:{boxShadow:1,borderRadius:2,alignItems:"center !important",gap:"10px"},children:[(0,T.jsx)(p.ZP,{xs:12,md:2.5,children:(0,T.jsx)(x.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",type:"text",placeholder:"ex O-01001",InputProps:{startAdornment:(0,T.jsx)(f.Z,{position:"start",children:"O"})},value:Z.O||"",name:"O",onChange:E})}),(0,T.jsx)(p.ZP,{xs:12,md:2.5,children:(0,T.jsx)(x.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",type:"text",InputProps:{startAdornment:(0,T.jsx)(f.Z,{position:"start",children:"Name"})},value:Z.customer_name||"",name:"customer_name",onChange:E})}),(0,T.jsx)(p.ZP,{xs:12,md:2.5,children:(0,T.jsx)(x.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",InputProps:{startAdornment:(0,T.jsx)(f.Z,{position:"start",children:"Email"})},value:Z.customer_email||"",name:"customer_email",type:"email",onChange:E})}),(0,T.jsx)(p.ZP,{xs:12,md:2.5,children:(0,T.jsx)(x.Z,{size:"small",fullWidth:!0,value:Z.date,id:"demo-helper-text-aligned-no-helper",type:"date",name:"date",onChange:E})}),(0,T.jsxs)(p.ZP,{xs:12,md:1.5,sx:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[(0,T.jsx)(v.Z,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){j((function(e){return(0,r.Z)((0,r.Z)({},e),{},{filter:!e.filter})}))},children:(0,T.jsx)(b.Z,{})}),(0,T.jsx)(v.Z,{color:"primary",fullWidth:!0,variant:"outlined",onClick:function(){return j((function(e){return(0,r.Z)((0,r.Z)({},e),{},{O:void 0,date:"",customer_name:void 0,customer_email:void 0,order_time:"",filter:!e.filter})}))},children:(0,T.jsx)(w.Z,{})})]})]}),(0,T.jsx)("br",{}),(0,T.jsx)(p.ZP,{container:!0,scaping:2,sx:{display:"flex",justifyContent:"space-between",alignItem:"center"},children:(0,T.jsxs)(p.ZP,{item:!0,p:2,xs:12,sx:{boxShadow:1,borderRadius:5,maxHeight:500},children:[(0,T.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,T.jsxs)(c.Z,{component:"span",variant:"h6",children:[" ","Order List"," "]})}),(0,T.jsx)(T.Fragment,{}),(0,T.jsx)("br",{}),function(e,t){return(0,T.jsx)("div",{style:{height:t,width:"100%"},children:(0,T.jsx)(N._,{filterModel:{items:[{columnField:"order_time",operatorValue:"contains",value:"".concat(Z.date)}]},rows:Z.data,rowCount:Z.total,loading:Z.isLoading,rowsPerPageOptions:[10,30,50,70,100],pagination:!0,pageSize:Z.limit,page:Z.page-1,limit:Z.limit,paginationMode:"server",onPageChange:function(e){j((function(t){return(0,r.Z)((0,r.Z)({},t),{},{page:e+1})}))},onPageSizeChange:function(e){return j((function(t){return(0,r.Z)((0,r.Z)({},t),{},{limit:e})}))},columns:e})})}(D,400)]})})]})}function X(e){var t=e.preview,n=e.setPreview,i=(0,l.useState)({order:{},custom:{}}),s=(0,o.Z)(i,2),u=s[0],m=s[1];function x(){return(x=(0,a.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.s$)(t._id);case 2:200===(n=e.sent).status&&m({order:n.data.data,custom:n.data.custom_product});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){t._id&&function(){x.apply(this,arguments)}()}),[t.open]),(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Z.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t.open,onClose:function(){return n((function(e){return(0,r.Z)((0,r.Z)({},e),{},{open:!1})}))},closeAfterTransition:!0,BackdropComponent:j.Z,children:(0,T.jsx)(g.Z,{in:t.open,children:(0,T.jsx)(h.Z,{sx:J,children:u&&(0,T.jsxs)(p.ZP,{container:!0,sx:{gap:"1rem"},children:[(0,T.jsx)(p.ZP,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,T.jsx)(c.Z,{variant:"h6",children:"Order Preview"})}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"Customer Details"}),(0,T.jsx)(U,{children:Q.personal.map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"body2",children:e}),(0,T.jsx)(c.Z,{variant:"body2",children:u.order[e]})]},t),(0,T.jsx)(y.Z,{})]})}))})]}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"Order Details"}),(0,T.jsx)(U,{children:Q.order.map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"body2",children:e}),(0,T.jsx)(c.Z,{variant:"body2",children:u.order[e]})]},t),(0,T.jsx)(y.Z,{})]})}))})]}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"Fulfillment Details"}),(0,T.jsx)(U,{children:Q.fulfillment.map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"body2",children:e}),(0,T.jsx)(c.Z,{variant:"body2",children:u.order[e]})]},t),(0,T.jsx)(y.Z,{})]})}))})]}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"SKU Details"}),(0,T.jsx)(U,{children:u.order.quantity&&Object.keys(u.order.quantity).map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"body2",children:e}),(0,T.jsx)(c.Z,{variant:"body2",children:u.order.quantity[e]})]},t),(0,T.jsx)(y.Z,{})]})}))})]}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"Customization Details"}),(0,T.jsx)(U,{children:u.order.customizations&&u.order.customizations.map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[Q.customizations.map((function(t,n){return(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"caption",children:t}),"polish_images"===t||"design_images"===t?e[t].length>0&&e[t].map((function(e,t){return(0,T.jsx)("img",{width:"50px",src:e,alt:t})})):(0,T.jsx)(c.Z,{variant:"caption",children:e[t]})]},n)})),(0,T.jsx)(y.Z,{})]})}))})]}),(0,T.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.Z,{variant:"body1",children:"Payment Details"}),(0,T.jsx)(U,{children:Q.payment.map((function(e,t){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(h.Z,{className:"previewBox",children:[(0,T.jsx)(c.Z,{variant:"body2",children:e}),(0,T.jsx)(c.Z,{variant:"body2",children:u.order[e]})]},t),(0,T.jsx)(y.Z,{})]})}))})]})]})})})})})}},6711:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=o},585:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");t.Z=o},7031:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"}),"FilterAltOff");t.Z=o},3579:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");t.Z=o},3466:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(4942),r=n(3366),a=n(7462),o=n(2791),s=n(8182),d=n(4419),l=n(4036),c=n(890),u=n(3840),m=n(2930),h=n(6934),p=n(5878),x=n(1217);function f(e){return(0,x.Z)("MuiInputAdornment",e)}var v,Z=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),j=n(1402),g=n(184),y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,l.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&(0,i.Z)({},"&.".concat(Z.positionStart,"&:not(.").concat(Z.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),w=o.forwardRef((function(e,t){var n=(0,j.Z)({props:e,name:"MuiInputAdornment"}),i=n.children,h=n.className,p=n.component,x=void 0===p?"div":p,Z=n.disablePointerEvents,w=void 0!==Z&&Z,_=n.disableTypography,P=void 0!==_&&_,C=n.position,N=n.variant,S=(0,r.Z)(n,y),k=(0,m.Z)()||{},O=N;N&&k.variant,k&&!O&&(O=k.variant);var z=(0,a.Z)({},n,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:w,position:C,variant:O}),I=function(e){var t=e.classes,n=e.disablePointerEvents,i=e.hiddenLabel,r=e.position,a=e.size,o=e.variant,s={root:["root",n&&"disablePointerEvents",r&&"position".concat((0,l.Z)(r)),o,i&&"hiddenLabel",a&&"size".concat((0,l.Z)(a))]};return(0,d.Z)(s,f,t)}(z);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(b,(0,a.Z)({as:x,ownerState:z,className:(0,s.Z)(I.root,h),ref:t},S,{children:"string"!==typeof i||P?(0,g.jsxs)(o.Fragment,{children:["start"===C?v||(v=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,g.jsx)(c.Z,{color:"text.secondary",children:i})}))})}))},3457:function(e,t,n){var i=(0,n(4046).ZP)();t.Z=i},2764:function(){}}]);
//# sourceMappingURL=504.a19be6f9.chunk.js.map